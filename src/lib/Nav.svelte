<script>
	import DropDown from './DropDown.svelte';
	export let props;
	export let userStore;
	import Fa from 'svelte-fa';
	import { faArrowRightFromBracket } from '@fortawesome/free-solid-svg-icons';
</script>

{#if $userStore}
	<div />
{:else}
	<div
		class="sticky absolute top-0 z-40 w-full backdrop-blur flex-none bg-white transition-colors duration-500 lg:z-50"
	>
		<div class="max-w-8xl mx-auto">
			<div class="py-4 border-slate-900 lg:px-8 border-0 dark:border-slate-300 mx-4 lg:mx-0">
				<div class="relative flex items-center">
					<a class="mr-3 flex-none overflow-hidden" href="/">
						<span class="sr-only font-extrabold">{props.company.title}</span>
						<svg width="60" height="34" viewBox="0 0 60 34" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M11.9013 23.3034C10.8319 23.3034 10.0562 23.1453 9.57416 22.8289C9.10722 22.5126 8.79843 21.9628 8.6478 21.1796C8.51224 20.3963 8.44446 19.131 8.44446 17.3838C8.44446 15.6214 8.51224 14.3486 8.6478 13.5654C8.79843 12.7821 9.10722 12.2323 9.57416 11.916C10.0562 11.5846 10.8319 11.4189 11.9013 11.4189C12.9859 11.4189 13.7616 11.5846 14.2285 11.916C14.7105 12.2323 15.0193 12.7821 15.1549 13.5654C15.3055 14.3486 15.3808 15.6214 15.3808 17.3838C15.3808 19.131 15.3055 20.3963 15.1549 21.1796C15.0193 21.9628 14.7105 22.5126 14.2285 22.8289C13.7616 23.1453 12.9859 23.3034 11.9013 23.3034ZM11.9013 21.7444C12.4587 21.7444 12.8428 21.6465 13.0536 21.4507C13.2796 21.2549 13.4227 20.8783 13.4829 20.321C13.5432 19.7637 13.5733 18.7846 13.5733 17.3838C13.5733 15.9679 13.5432 14.9813 13.4829 14.424C13.4227 13.8516 13.2796 13.4675 13.0536 13.2717C12.8277 13.0758 12.4436 12.9779 11.9013 12.9779C11.3591 12.9779 10.975 13.0758 10.749 13.2717C10.5382 13.4675 10.4026 13.8516 10.3424 14.424C10.2821 14.9813 10.252 15.9679 10.252 17.3838C10.252 18.7846 10.2821 19.7637 10.3424 20.321C10.4026 20.8783 10.5382 21.2549 10.749 21.4507C10.975 21.6465 11.3591 21.7444 11.9013 21.7444Z" fill="black"/>
							<path d="M22.1795 16.3896C22.1795 15.3503 22.1418 14.6122 22.0665 14.1754C22.0063 13.7235 21.8707 13.4298 21.6598 13.2943C21.464 13.1436 21.1402 13.0683 20.6883 13.0683C20.1762 13.0683 19.8071 13.2114 19.5812 13.4976C19.3553 13.7838 19.2122 14.198 19.1519 14.7403C19.1067 15.2675 19.0841 16.111 19.0841 17.2708V23.1227H17.2766V11.5997H18.926L19.0163 13.1361H19.1519C19.4532 11.9913 20.2439 11.4189 21.5243 11.4189C22.2322 11.4189 22.7594 11.562 23.1059 11.8482C23.4523 12.1194 23.6858 12.5486 23.8063 13.1361C23.9268 13.7085 23.987 14.5445 23.987 15.644V23.1227H22.1795V16.3896Z" fill="black"/>
							<path d="M32.497 17.926H27.6167C27.6167 19.0859 27.6544 19.9218 27.7297 20.434C27.8201 20.931 28.0084 21.2775 28.2945 21.4733C28.5958 21.654 29.0853 21.7444 29.7632 21.7444C30.4711 21.7444 31.3071 21.6691 32.2711 21.5185V23.0097C31.9246 23.085 31.4803 23.1528 30.938 23.213C30.3958 23.2733 29.8761 23.3034 29.3791 23.3034C28.2945 23.3034 27.5038 23.1227 27.0067 22.7612C26.5096 22.3846 26.1858 21.8047 26.0351 21.0214C25.8845 20.2231 25.8092 19.0105 25.8092 17.3838C25.8092 15.7419 25.8694 14.5294 25.99 13.7461C26.1255 12.9629 26.4343 12.383 26.9163 12.0064C27.4134 11.6148 28.2117 11.4189 29.3113 11.4189C30.3205 11.4189 31.0435 11.5997 31.4803 11.9612C31.9322 12.3227 32.2108 12.8876 32.3163 13.6558C32.4368 14.424 32.497 15.6591 32.497 17.3612V17.926ZM29.2661 12.9779C28.754 12.9779 28.3849 13.0608 28.159 13.2265C27.9481 13.3771 27.805 13.6934 27.7297 14.1754C27.6544 14.6574 27.6167 15.4633 27.6167 16.593H30.8025V16.3219C30.8025 15.2976 30.7573 14.5595 30.6669 14.1076C30.5916 13.6407 30.4485 13.3394 30.2376 13.2039C30.0418 13.0532 29.718 12.9779 29.2661 12.9779Z" fill="black"/>
							<path d="M50.2205 1.58024L50.2205 1.5802L50.2266 1.5814C53.9544 2.30774 56.5002 3.75919 57.6515 6.05175C58.759 8.20319 59.278 11.9126 59.278 17.0825C59.278 22.2003 58.7584 25.8825 57.6503 28.0331C56.4975 30.2706 53.951 31.6929 50.2266 32.4186L50.2266 32.4186L50.2205 32.4198C46.2413 33.1434 39.5194 33.5 30.0856 33.5C20.396 33.5 13.6701 33.144 9.94765 32.4192C5.97621 31.6965 3.28587 30.2806 2.12794 28.0331C1.01989 25.8825 0.500225 22.2003 0.500225 17.0825C0.500225 11.9126 1.0193 8.20314 2.12673 6.05171C3.28363 3.74829 5.97452 2.30336 9.95084 1.58024C13.93 0.856612 20.6519 0.5 30.0856 0.5C39.5194 0.5 46.2413 0.856612 50.2205 1.58024Z" stroke="#BFBFBF"/>
							<path d="M36.9742 16.2066C33.9266 15.8412 38.8532 24.0292 40.5104 22.8172C40.8489 24.0372 41.2542 25.1087 41.9177 25.6902C42.467 26.1716 43.9927 27.3267 44.476 27.109C45.6272 26.5904 43.5334 22.1812 44.476 21.0521C44.6534 20.8397 45.0062 20.5745 45.4547 20.3071C46.131 22.7274 47.6715 25.6943 49.7459 21.7588C51.8779 17.7138 47.5864 19.0359 45.4547 20.3071C45.2897 19.7165 45.1761 19.1584 45.1188 18.7412C45.0736 18.4124 45.0547 17.9078 45.0627 17.3072C46.7687 17.149 49.1961 15.4177 47.6899 11.9091C45.9521 7.86125 45.1061 14.0211 45.0627 17.3072C44.4407 17.3648 43.9146 17.2134 43.71 16.8628C42.9439 15.5505 39.5679 12.9432 39.3799 13.2792C39.1714 13.6518 41.0082 21.716 40.9115 22.103C40.8226 22.4587 40.6845 22.6899 40.5104 22.8172C39.7392 20.0376 39.3148 16.4873 36.9742 16.2066Z" fill="#101010"/>
							<path d="M46.3119 7.12733C46.3119 7.12733 42.2768 13.1365 44.9669 15.8231C45.1694 16.0254 45.4227 16.1904 45.7161 16.3232C46.7311 19.3548 50.0785 17.4014 53.1156 16.2748C55.4328 15.8071 56.7483 15.2702 54.5315 15.8231C54.0745 15.9371 53.599 16.0955 53.1156 16.2748C50.8101 16.74 47.5129 17.1367 45.7161 16.3232C45.2021 14.788 45.2863 11.9743 46.3119 7.12733Z" fill="black"/>
							<path d="M37.6753 17.4979C36.8621 17.0522 39.2192 22.3562 40.6739 23.0151C41.2602 24.1038 41.8696 25.0869 42.4541 25.6644C42.9209 26.1258 43.3719 26.3284 43.7827 26.1198C44.7611 25.6228 43.8272 23.3087 44.6284 22.2267C44.9268 21.8236 45.5373 21.4272 46.1713 21.1293C46.78 21.6977 47.5321 21.798 48.0552 21.1354C48.6742 20.3515 47.38 20.5614 46.1713 21.1293C45.682 20.6725 45.2853 19.9133 45.1747 19.0049C45.126 18.605 44.8287 17.9447 44.4151 17.1638C45.33 15.1558 45.4055 13.011 42.5643 11.094C39.0713 8.73732 42.7201 13.9638 44.4151 17.1638C43.9307 18.2268 43.211 19.2515 42.5643 20.1838C42.3474 20.4965 41.4219 16.2763 41.2621 16.5983C41.0849 16.9554 41.681 21.8558 41.5988 22.2267C41.4238 23.0165 41.0848 23.2012 40.6739 23.0151C39.4055 20.6599 38.2447 17.81 37.6753 17.4979Z" fill="black"/>
							</svg>
							
							
							
							
					</a>
					<div class="hidden relative">
						<button
							class="text-xs leading-5 font-semibold bg-slate-400/10 rounded-full py-1 px-3 flex items-center space-x-2 hover:bg-slate-400/20 dark:highlight-white/5"
							id="headlessui-menu-button-6"
							type="button"
							aria-haspopup="true"
							aria-expanded="false"
						>
							v1
						</button>
					</div>

					<div class="relative lg:flex items-center ml-auto">
						<nav class="text-sm leading-6 font-semibold text-black">
							<ul class="flex space-x-8">
								{#if !$userStore}
									{#each props.navigation.links as link}
										<li class="dropdown relative">
											{#if link.items.length > 0}
												<DropDown links={link.items} title={link.title} />
											{:else}
												<a href="/{link.link}">{link.title}</a>
											{/if}
										</li>
									{/each}
								{/if}
								{#if $userStore}
									<li>
										<span
											class="text-sm text-slate-500 font-normal font- bg-slate-200 rounded-md p-0.5 px-2 m-2"
											>{$userStore.email}</span
										>
									</li>
									<li>
										<a
											class=" text-sky-500 dark:text-sky-500 hover:text-black-500 dark:hover:text-black-400"
											href="/logout"
										>
											<Fa class="mt-1" icon={faArrowRightFromBracket} />
										</a>
									</li>
								{:else}
									<li>
										<a
											class="text-sky-500 dark:text-sky-500 hover:text-black-500 dark:hover:text-black-400"
											href="/login">Sign In</a
										>
									</li>
								{/if}
							</ul>
						</nav>
					</div>

					<div class="ml-2 -my-1 hidden">
						<button
							type="button"
							class="text-slate-500 w-8 h-8 flex items-center justify-center hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300"
						>
							<span class="sr-only">Navigation</span><svg
								width="24"
								height="24"
								fill="none"
								aria-hidden="true"
							>
								<path
									d="M12 6v.01M12 12v.01M12 18v.01M12 7a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm0 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm0 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"
									stroke="currentColor"
									stroke-width="1.5"
									stroke-linecap="round"
									stroke-linejoin="round"
								/>
							</svg>
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
{/if}
